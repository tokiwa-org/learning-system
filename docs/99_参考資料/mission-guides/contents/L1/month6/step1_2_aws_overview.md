# AWSの全体像とリージョン

## メタ情報

```yaml
mission: "クラウドの頂を制覇しよう"
step: 1
subStep: 2
title: "AWSの全体像とリージョン"
itemType: LESSON
estimatedMinutes: 30
noiseLevel: MINIMAL
roadmap:
  skill: "AWS"
  category: "クラウド"
  target_level: "L1"
```

---

## ストーリー

> 「クラウドの基本はわかったな。じゃあ次は AWS の全体像を見ていこう」
>
> 山田先輩が AWS のコンソール画面を開きながら言う。
>
> 「AWS には 200 以上のサービスがあるが、全部覚える必要はない。
> まずはコア サービスを押さえれば、8割の案件には対応できる」
>
> 「200 以上もあるんですか......。どこから手をつければいいんでしょう？」
>
> 「大丈夫。カテゴリごとに整理すれば見えてくる。
> それと、リージョンとAZの概念を理解しておくことが大事だ。
> インフラの信頼性に直結するからな」

---

## AWSのサービスカテゴリ

AWS の主要サービスをカテゴリ別に整理します。

### コアサービスの全体像

```
┌──────────────────────────────────────────────────┐
│                    AWS Cloud                      │
│                                                    │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐        │
│  │コンピュート │  │ストレージ  │  │データベース│        │
│  │  EC2      │  │  S3      │  │  RDS     │        │
│  │  Lambda   │  │  EBS     │  │  DynamoDB│        │
│  │  ECS/EKS  │  │  EFS     │  │  Aurora  │        │
│  └──────────┘  └──────────┘  └──────────┘        │
│                                                    │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐        │
│  │ネットワーク│  │セキュリティ│  │  管理     │        │
│  │  VPC     │  │  IAM     │  │CloudWatch│        │
│  │  ELB     │  │  KMS     │  │CloudTrail│        │
│  │  Route53 │  │  WAF     │  │  Config  │        │
│  └──────────┘  └──────────┘  └──────────┘        │
└──────────────────────────────────────────────────┘
```

### 主要サービス一覧

| カテゴリ | サービス | 説明 |
|---------|---------|------|
| コンピュート | EC2 | 仮想サーバー |
| コンピュート | Lambda | サーバーレス関数 |
| コンピュート | ECS/EKS | コンテナオーケストレーション |
| ストレージ | S3 | オブジェクトストレージ |
| ストレージ | EBS | ブロックストレージ（EC2用） |
| データベース | RDS | リレーショナルDB（MySQL, PostgreSQL等） |
| データベース | DynamoDB | NoSQLデータベース |
| ネットワーク | VPC | 仮想プライベートネットワーク |
| ネットワーク | ELB | ロードバランサー |
| ネットワーク | Route 53 | DNSサービス |
| セキュリティ | IAM | アクセス管理 |
| 管理 | CloudWatch | 監視・ログ |
| 管理 | CloudFormation | IaC（Infrastructure as Code） |

---

## リージョンとアベイラビリティゾーン

### リージョン（Region）

AWS のデータセンターが設置されている地理的な場所です。各リージョンは独立して運用されています。

```
世界のAWSリージョン（主要なもの）

北米                    欧州                  アジア太平洋
├─ us-east-1 (バージニア)  ├─ eu-west-1 (アイルランド) ├─ ap-northeast-1 (東京)
├─ us-west-2 (オレゴン)    ├─ eu-central-1 (フランクフルト)├─ ap-northeast-3 (大阪)
└─ ca-central-1 (カナダ)   └─ eu-west-2 (ロンドン)     ├─ ap-southeast-1 (シンガポール)
                                                   └─ ap-south-1 (ムンバイ)
```

### リージョン選択の基準

| 基準 | 説明 |
|------|------|
| レイテンシ | ユーザーに近いリージョンを選ぶ（日本のユーザー → 東京リージョン） |
| コンプライアンス | データの保管場所に関する法規制（日本の個人情報は国内に保管等） |
| サービス可用性 | 一部サービスは特定リージョンでのみ提供 |
| 料金 | リージョンによって料金が異なる（東京は米国より若干高い） |

### アベイラビリティゾーン（AZ）

各リージョン内に複数の独立したデータセンター群があり、これをAZと呼びます。

```
東京リージョン (ap-northeast-1)
┌──────────────────────────────────────────┐
│                                            │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐│
│  │   AZ-a    │  │   AZ-c    │  │   AZ-d    ││
│  │           │  │           │  │           ││
│  │ [DC群]    │  │ [DC群]    │  │ [DC群]    ││
│  │           │  │           │  │           ││
│  └─────┬────┘  └─────┬────┘  └─────┬────┘│
│        │              │              │      │
│        └──── 高速専用回線 ────────────┘      │
│                                            │
└──────────────────────────────────────────┘

各AZは:
- 物理的に離れた場所にある（自然災害対策）
- 独立した電源・冷却・ネットワーク
- AZ間は低レイテンシの専用回線で接続
```

### マルチAZ構成の重要性

本番環境では、複数の AZ にリソースを配置して可用性を高めます。

```
┌─── AZ-a ────┐     ┌─── AZ-c ────┐
│              │     │              │
│  [EC2]       │     │  [EC2]       │
│  [RDS Primary]│     │  [RDS Standby]│
│              │     │              │
└──────────────┘     └──────────────┘
        ↑                    ↑
        └────── ELB ─────────┘
               (ロードバランサー)
```

1つの AZ で障害が発生しても、別の AZ でサービスを継続できます。

---

## AWS CLI の基本

AWS のリソースはコンソール（GUI）でも操作できますが、CLI を使うと自動化しやすくなります。

### インストール確認

```bash
# バージョン確認
aws --version

# 認証設定
aws configure
# AWS Access Key ID: [アクセスキーを入力]
# AWS Secret Access Key: [シークレットキーを入力]
# Default region name: ap-northeast-1
# Default output format: json
```

### 基本的な使い方

```bash
# 利用可能なリージョン一覧
aws ec2 describe-regions --output table

# 現在のアカウント情報
aws sts get-caller-identity

# S3バケット一覧
aws s3 ls
```

---

## 共有責任モデル

AWS とユーザーでセキュリティの責任範囲が分かれています。

```
┌──────────────────────────────────────┐
│         ユーザーの責任                  │
│  「クラウドの中のセキュリティ」          │
│                                      │
│  ・アプリケーション                     │
│  ・データの暗号化                       │
│  ・IAM（アクセス管理）                  │
│  ・OS のパッチ適用（EC2の場合）          │
│  ・ネットワーク設定（SG, NACL）         │
├──────────────────────────────────────┤
│         AWSの責任                      │
│  「クラウドのセキュリティ」              │
│                                      │
│  ・物理的なデータセンター               │
│  ・ハードウェア                        │
│  ・ネットワークインフラ                  │
│  ・仮想化基盤                          │
│  ・マネージドサービスのインフラ           │
└──────────────────────────────────────┘
```

---

## まとめ

| ポイント | 内容 |
|----------|------|
| サービスカテゴリ | コンピュート、ストレージ、DB、ネットワーク、セキュリティ、管理 |
| リージョン | 地理的に離れたデータセンター群。日本は東京・大阪 |
| AZ | リージョン内の独立したデータセンター群。冗長化の単位 |
| 共有責任モデル | AWS はインフラ、ユーザーはアプリ・データ・アクセス管理を担当 |

### チェックリスト

- [ ] AWS の主要サービスカテゴリを把握した
- [ ] リージョンとAZの違いを説明できる
- [ ] マルチAZ構成の意義を理解した
- [ ] 共有責任モデルを理解した
- [ ] AWS CLI の基本的な使い方を知った

---

## 次のステップへ

次のセクションでは、AWS の最も基本的なコンピューティングサービスである EC2 について学びます。
仮想サーバーの概念と、インスタンスタイプの選び方を理解しましょう。

---

*推定読了時間: 30分*

# レビューコメントへの対応

## メタ情報

```yaml
mission: "品質を意識した作業を覚えよう"
step: 4
subStep: 3
title: "レビューコメントへの対応"
itemType: LESSON
estimatedMinutes: 30
noiseLevel: MINIMAL
roadmap:
  skill: "品質管理"
  category: "ヒューマンスキル"
  target_level: "L0"
```

---

## ストーリー

> レビューコメントが5件ついていた。
>
> 「うわ、5件も...全部直さないといけないのかな」
>
> 「全部が修正とは限らないよ。まずはコメントの種類を理解して、適切に対応しよう」
>
> 「コメントにも種類があるんですか？」
>
> 「そう。対応方法も種類によって変わるんだ」

---

## レビューコメントへの対応5ステップ

レビューコメントを受けたら、以下の5ステップで対応します。

```
1. 感謝する
   ↓
2. 理解する
   ↓
3. 質問する（わからなければ）
   ↓
4. 修正する
   ↓
5. 学びとして記録する
```

---

## ステップ1: 感謝する

レビューは**レビュアーの時間を使って品質を高めてくれる行為**です。

```
× ダメな反応:
「細かいこと言わないでよ...」
（無言でスルー）

○ 良い反応:
「レビューありがとうございます。確認します！」
「ご指摘ありがとうございます。修正しました。」
```

> 感謝の一言があるだけで、チームの雰囲気が良くなります。

---

## ステップ2: 理解する

コメントの内容を**正確に理解**します。

### コメントの種類を見分ける

| 種類 | 見分け方 | 対応 |
|------|---------|------|
| 必須修正 | 「これは修正してください」 | 必ず修正する |
| 提案 | 「こうすると良いかも」「検討してみてください」 | 検討して判断する |
| 質問 | 「なぜこうしたのですか？」 | 理由を説明する |
| Nit（些細） | 「Nit:」と書かれている | 可能なら対応する |
| 褒め | 「良いですね！」「きれいなコードです」 | 喜ぶ！ |

### コメントの例

```
必須修正:
「このnullチェックが抜けています。NPEの原因になります。」
→ 必ず修正する

提案:
「ここはreduceメソッドを使うともっとシンプルになりそうです。」
→ 良い提案なら取り入れる、理由があればそれを伝える

質問:
「このタイムアウト値を30秒にした理由は何ですか？」
→ 理由を説明する

Nit:
「Nit: この変数名、camelCaseの方が良さそうです」
→ 修正する（軽微なので素早く対応）
```

---

## ステップ3: 質問する

コメントの意図がわからないときは、**遠慮なく質問**しましょう。

```
× 悪い対応:
（よくわからないけど、適当に直しておこう...）

○ 良い対応:
「ご指摘ありがとうございます。
 確認なのですが、○○の部分を△△に変更するということでしょうか？
 それとも□□のアプローチの方が良いでしょうか？」
```

### 質問するときのポイント

| ポイント | 例 |
|---------|-----|
| 自分の理解を示す | 「○○ということですか？」 |
| 具体的に聞く | 「△△と□□のどちらが良いですか？」 |
| 代替案を示す | 「こういうアプローチはどうですか？」 |

> わからないまま修正するよりも、質問して正しく理解してから修正する方が効率的です。

---

## ステップ4: 修正する

コメントを理解したら、修正を行います。

### 修正の手順

```
1. コメントの内容に従ってコードを修正
2. 修正が正しいことをテストで確認
3. コミットして、レビュアーに対応完了を伝える
```

### 対応完了の伝え方

```markdown
レビュアーのコメント:
「このnullチェックが抜けています」

あなたの返信:
「ご指摘ありがとうございます。nullチェックを追加しました。
 合わせてテストケースも追加しています。
 確認をお願いします。」
```

### 修正しない場合の伝え方

提案に対して別のアプローチを取りたい場合は、**理由を説明**します。

```markdown
レビュアーのコメント:
「ここはMapを使った方が良さそうです」

あなたの返信:
「ご提案ありがとうございます。
 検討しましたが、今回はデータ量が少ないため
 配列のままの方がシンプルに保てると考えました。
 データ量が増えた場合はMapへの移行を検討します。
 いかがでしょうか？」
```

> 修正しない場合は必ず理由を添えましょう。無言で放置は NG です。

---

## ステップ5: 学びとして記録する

レビューで得た学びを**記録**しておきます。

### 記録の方法

```markdown
## レビューから学んだこと

### 2025-04-01 ログイン機能のPR
- nullチェックの抜け → 外部データは必ずnullチェックする
- 変数名が曖昧 → 名前から用途がわかるように命名する
- テスト不足 → 異常系のテストも書く

→ チェックリストに追加:
- [ ] 外部データのnullチェックをしたか
- [ ] 変数名が意図を伝えているか
- [ ] 異常系のテストを書いたか
```

> 同じ指摘を**繰り返し受けない**ことが成長の証です。

---

## やってはいけない対応

| NG行動 | なぜダメか |
|--------|----------|
| 感情的に反論する | チームの信頼関係が壊れる |
| 指摘を無視する | 問題が残ったままマージされる |
| わからないのに適当に修正する | 新たなバグを作り込む |
| 言い訳をする | 建設的な議論にならない |
| 指摘を個人攻撃と受け取る | 成長の機会を逃す |

---

## まとめ

| ポイント | 内容 |
|----------|------|
| 感謝 | レビューしてくれたことに感謝を伝える |
| 理解 | コメントの種類を見分け、正確に理解する |
| 質問 | わからなければ遠慮なく質問する |
| 修正 | 修正後はテストで確認し、対応完了を伝える |
| 記録 | 学びを記録し、チェックリストに反映する |

### チェックリスト

- [ ] レビューコメントへの5ステップを説明できる
- [ ] コメントの種類（必須修正、提案、質問、Nit）を見分けられる
- [ ] 修正しない場合の適切な伝え方がわかる
- [ ] レビューの学びを記録する重要性を理解した

---

## 次のステップへ

レビューコメントへの対応方法が理解できましたか？

次はStep 4の理解度を確認するクイズに挑戦しましょう。

---

*推定読了時間: 30分*

# チェックポイント：ネットワークコマンド総復習

## メタ情報

```yaml
mission: "ネットワークの仕組みを解明しよう"
step: 5
subStep: 6
title: "チェックポイント"
itemType: QUIZ
estimatedMinutes: 30
noiseLevel: MINIMAL
roadmap:
  skill: "ネットワーク"
  category: "IT基本"
  target_level: "L0"
passingScore: 75
```

---

## クイズの説明

Step 5で学んだ内容の理解度をチェックします。

- 全8問
- 合格ライン: 75%（6問正解）
- 不合格の場合は復習してから再挑戦してください

---

## 問題

### Q1: ping コマンドが使用するプロトコルはどれですか？

A) HTTP
B) ICMP
C) TCP
D) UDP

<details><summary>答えを見る</summary>

**正解: B) ICMP**

ping は ICMP（Internet Control Message Protocol）を使用します。ICMPエコーリクエストを送り、ICMPエコーリプライが返ってくるかを確認するコマンドです。

</details>

---

### Q2: ping の出力で「64 bytes from 8.8.8.8: time=3.45 ms」の 3.45 ms は何を表していますか？

A) ダウンロード時間
B) DNS名前解決の時間
C) パケットの往復時間（RTT）
D) サーバーの処理時間

<details><summary>答えを見る</summary>

**正解: C) パケットの往復時間（RTT）**

RTT（Round Trip Time）は、パケットが相手に届いて戻ってくるまでの往復時間です。単位はミリ秒（ms）で、値が小さいほど通信が高速です。

</details>

---

### Q3: traceroute コマンドの目的として正しいものはどれですか？

A) ファイルの転送経路を追跡する
B) パケットが通過するルーターを順番に表示する
C) ネットワーク帯域を測定する
D) DNSレコードの変更履歴を表示する

<details><summary>答えを見る</summary>

**正解: B) パケットが通過するルーターを順番に表示する**

traceroute はTTL（Time To Live）を1ずつ増やしながらパケットを送信し、経路上のルーターを1つずつ特定します。これにより、パケットが通過する経路全体を確認できます。

</details>

---

### Q4: traceroute の出力で「* * *」が表示される最も一般的な原因は何ですか？

A) ネットワークが非常に高速で処理された
B) そのルーターがICMPに応答しない設定になっている
C) パケットが暗号化された
D) ルーターがIPv6専用である

<details><summary>答えを見る</summary>

**正解: B) そのルーターがICMPに応答しない設定になっている**

`* * *` は応答がなかったことを意味します。多くの場合、セキュリティ上の理由でICMPパケットへの応答をブロックしているルーターです。必ずしもネットワーク障害を意味するわけではありません。

</details>

---

### Q5: ss -tuln コマンドで確認できることは何ですか？

A) ネットワークの転送速度
B) 現在のTCP/UDP接続とリッスン中のポート
C) ルーティングテーブル
D) ARPキャッシュの内容

<details><summary>答えを見る</summary>

**正解: B) 現在のTCP/UDP接続とリッスン中のポート**

ss コマンドのオプション：
- `-t`: TCPを表示
- `-u`: UDPを表示
- `-l`: LISTEN（待ち受け中）を表示
- `-n`: ポート番号を数字で表示

これにより、どのサービスがどのポートで待ち受けているかを確認できます。

</details>

---

### Q6: ss コマンドの出力で「ESTABLISHED」状態の意味は何ですか？

A) 接続を待ち受けている
B) 接続が確立して通信中である
C) 接続終了後の待機状態
D) 接続に失敗した

<details><summary>答えを見る</summary>

**正解: B) 接続が確立して通信中である**

TCP接続の主な状態：
- LISTEN: 接続を待ち受けている
- ESTABLISHED: 接続が確立して通信中
- TIME_WAIT: 接続終了後の待機状態
- CLOSE_WAIT: 相手からの切断を受けて終了待ち

</details>

---

### Q7: Webサイトにアクセスできないときのトラブルシューティングで、最初に確認すべきことは何ですか？

A) HTTPステータスコード
B) DNSの名前解決
C) ネットワーク接続（pingで確認）
D) ファイアウォール設定

<details><summary>答えを見る</summary>

**正解: C) ネットワーク接続（pingで確認）**

トラブルシューティングは下位のレイヤーから順に確認するのが効率的です：
1. ping: ネットワーク接続の確認
2. nslookup: DNS名前解決の確認
3. traceroute: 経路の確認
4. curl: HTTPレベルの確認

基盤となるネットワーク接続を最初に確認することで、問題の切り分けができます。

</details>

---

### Q8: 「0.0.0.0:80」でLISTENしているサービスの意味として正しいものはどれですか？

A) ローカルホストからのみポート80で接続を受け付ける
B) すべてのネットワークインターフェースでポート80の接続を受け付ける
C) ポート80が使用不可
D) IPv6専用でポート80を待ち受けている

<details><summary>答えを見る</summary>

**正解: B) すべてのネットワークインターフェースでポート80の接続を受け付ける**

Local Addressの意味：
- `0.0.0.0:80`: すべてのインターフェースでポート80を待ち受け
- `127.0.0.1:80`: ローカルホストからのみポート80を待ち受け
- `192.168.1.10:80`: 特定のIPでのみポート80を待ち受け

Webサーバーなど外部に公開するサービスは通常 0.0.0.0 で待ち受けます。

</details>

---

## 結果

### 6問以上正解の場合

**合格です！おめでとうございます！**

Step 5「ネットワークコマンドを使いこなそう」を完了しました。
次はStep 6「ネットワーク基礎卒業試験」に進みましょう。

### 5問以下の場合

**もう少し復習しましょう**

間違えた問題の内容を、該当するセクションで復習してください：

| 問題 | 復習セクション |
|------|---------------|
| Q1 | step5_1 pingで接続を確認しよう |
| Q2 | step5_1 pingで接続を確認しよう |
| Q3 | step5_2 tracerouteで経路を追跡しよう |
| Q4 | step5_2 tracerouteで経路を追跡しよう |
| Q5 | step5_5 netstatで接続状況を確認しよう |
| Q6 | step5_5 netstatで接続状況を確認しよう |
| Q7 | step5_2 tracerouteで経路を追跡しよう |
| Q8 | step5_5 netstatで接続状況を確認しよう |

---

## Step 5 完了！

お疲れさまでした！

### 学んだこと

- ping コマンドの使い方（接続確認、RTT、packet loss）
- traceroute コマンドの使い方（経路追跡、ホップ）
- netstat / ss コマンドの使い方（ポートと接続の確認）
- TCP接続の状態（LISTEN、ESTABLISHED など）
- トラブルシューティングの流れ（ping → nslookup → traceroute → curl）

### 次のステップ

**Step 6: ネットワーク基礎卒業試験（2時間）**

これまでの総まとめ。Webページ表示の裏側を総合的に追跡する演習と卒業クイズに挑戦します。すべての知識を結集して、最終テストに挑みましょう！

---

*推定所要時間: 30分*

# チェックポイント：ネットワークコマンドを使いこなそう

## メタ情報

```yaml
mission: "ネットワークの仕組みを解明しよう"
step: 5
subStep: 4
title: "チェックポイント"
itemType: QUIZ
estimatedMinutes: 30
noiseLevel: MINIMAL
roadmap:
  skill: "ネットワーク"
  category: "IT基本"
  target_level: "L0"
passingScore: 75
```

---

## クイズの説明

Step 5で学んだ内容の理解度をチェックします。

- 全8問
- 合格ライン: 75%（6問正解）
- 不合格の場合は復習してから再挑戦してください

---

## 問題

### Q1: ping コマンドの主な目的はどれですか？

A) ファイルをダウンロードする
B) 相手のコンピュータにネットワーク接続できるか確認する
C) DNSの名前解決を行う
D) HTTPリクエストを送信する

<details><summary>答えを見る</summary>

**正解: B) 相手のコンピュータにネットワーク接続できるか確認する**

ping はICMPプロトコルを使って、相手にパケットを送り、応答が返ってくるかを確認するコマンドです。接続できるか・応答時間はどれくらいか・パケットロスがないかを確認します。

</details>

---

### Q2: ping の出力にある RTT の意味として正しいものはどれですか？

A) リクエストが処理された時間
B) パケットの往復時間（Round Trip Time）
C) DNSの名前解決にかかった時間
D) ファイルのダウンロード時間

<details><summary>答えを見る</summary>

**正解: B) パケットの往復時間（Round Trip Time）**

RTT（Round Trip Time）はパケットが相手に届いて戻ってくるまでの時間です。単位はミリ秒（ms）で、値が小さいほど通信が速いことを意味します。

</details>

---

### Q3: ping の結果で `0% packet loss` の意味は何ですか？

A) 通信速度が0である
B) パケットが1つも届かなかった
C) すべてのパケットが正常に届いた
D) 暗号化されていない

<details><summary>答えを見る</summary>

**正解: C) すべてのパケットが正常に届いた**

`0% packet loss` は送信したパケットがすべて正常に相手に届き、応答が返ってきたことを意味します。これは理想的な状態です。100%の場合は1つも届いていません。

</details>

---

### Q4: traceroute コマンドの目的はどれですか？

A) ファイルの保存先を追跡する
B) パケットが相手に届くまでの経路を表示する
C) DNS レコードの変更履歴を表示する
D) HTTP リクエストのリダイレクト先を追跡する

<details><summary>答えを見る</summary>

**正解: B) パケットが相手に届くまでの経路を表示する**

traceroute はパケットが通過するルーターを1つずつ特定して、経路全体を表示するコマンドです。TTL（Time To Live）を1ずつ増やしながらパケットを送ることで、各ルーターの情報を取得します。

</details>

---

### Q5: traceroute の出力で `* * *` が表示される原因として正しいものはどれですか？

A) そのルーターが非常に高速で処理した
B) そのルーターがICMPに応答しない設定になっている
C) パケットがそのルーターで暗号化された
D) そのルーターがDNS名前解決を行っている

<details><summary>答えを見る</summary>

**正解: B) そのルーターがICMPに応答しない設定になっている**

`* * *` はルーターからの応答がなかったことを意味します。多くの場合、セキュリティのためICMPパケットへの応答をブロックしているルーターです。必ずしもネットワークに問題があるわけではありません。

</details>

---

### Q6: 「Webサイトにアクセスできない」ときのトラブルシューティングの正しい順序はどれですか？

A) curl → traceroute → ping → nslookup
B) nslookup → curl → ping → traceroute
C) ping → nslookup → traceroute → curl
D) traceroute → curl → nslookup → ping

<details><summary>答えを見る</summary>

**正解: C) ping → nslookup → traceroute → curl**

トラブルシューティングは下位のレイヤーから順に確認するのが効率的です：
1. ping: ネットワーク接続そのものの確認
2. nslookup: DNS名前解決の確認
3. traceroute: 経路の確認
4. curl: HTTPレベルの確認

これにより、問題がどの層で発生しているかを絞り込めます。

</details>

---

### Q7: ping で google.com は失敗するが 8.8.8.8 は成功する場合、最も疑われる原因は何ですか？

A) インターネット回線が切断されている
B) DNSの名前解決に問題がある
C) Webサーバーがダウンしている
D) ルーターが故障している

<details><summary>答えを見る</summary>

**正解: B) DNSの名前解決に問題がある**

IPアドレス（8.8.8.8）への ping が成功しているので、インターネット接続自体は正常です。ドメイン名（google.com）での ping が失敗するので、ドメイン名からIPアドレスへの変換（DNS名前解決）に問題があると考えられます。

</details>

---

### Q8: ss -tuln コマンドで確認できることは何ですか？

A) ファイルの一覧
B) コンピュータの CPU 使用率
C) 現在の TCP/UDP 接続とリッスン中のポート
D) インストールされたソフトウェア一覧

<details><summary>答えを見る</summary>

**正解: C) 現在の TCP/UDP 接続とリッスン中のポート**

ss コマンドのオプション：
- `-t`: TCP接続を表示
- `-u`: UDP接続を表示
- `-l`: LISTEN（待ち受け中）状態を表示
- `-n`: ポート番号を数字で表示

Webサーバーがポート80で待ち受けているか、などを確認できます。

</details>

---

## 結果

### 6問以上正解の場合

**合格です！おめでとうございます！**

Step 5「ネットワークコマンドを使いこなそう」を完了しました。
次はStep 6「ネットワーク基礎卒業試験」に進みましょう。

### 5問以下の場合

**もう少し復習しましょう**

間違えた問題の内容を、該当するセクションで復習してください：

| 問題 | 復習セクション |
|------|---------------|
| Q1 | step5_1 pingで接続を確認しよう |
| Q2 | step5_1 pingで接続を確認しよう |
| Q3 | step5_1 pingで接続を確認しよう |
| Q4 | step5_2 tracerouteで経路を追跡しよう |
| Q5 | step5_2 tracerouteで経路を追跡しよう |
| Q6 | step5_2 tracerouteで経路を追跡しよう |
| Q7 | step5_2 tracerouteで経路を追跡しよう |
| Q8 | step5_2 tracerouteで経路を追跡しよう |

---

## Step 5 完了！

お疲れさまでした！

### 学んだこと

- ping コマンドの使い方（接続確認、RTT、packet loss）
- traceroute コマンドの使い方（経路追跡、ホップ）
- ss コマンドの概要（ポートと接続の確認）
- トラブルシューティングの流れ（ping → nslookup → traceroute → curl）

### 次のステップ

**Step 6: ネットワーク基礎卒業試験（2時間）**

これまでの総まとめ。Webページ表示の裏側を総合的に追跡する演習と卒業クイズに挑戦します。

---

*推定所要時間: 30分*

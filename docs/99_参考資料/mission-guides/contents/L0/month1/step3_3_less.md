# lessでページ単位で閲覧する

## メタ情報

```yaml
mission: "初めてのターミナルを起動しよう"
step: 3
subStep: 3
title: "lessでページ単位で閲覧する"
itemType: LESSON
estimatedMinutes: 30
noiseLevel: MINIMAL
roadmap:
  skill: "OS基本コマンド"
  category: "IT基本"
  target_level: "L0"
```

---

## ストーリー

> 「catだと一気に流れちゃうし、head/tailだと一部しか見れない...」
>
> 「そういうときは `less` だね。ページ単位で読めるし、検索もできる」
>
> 「本をめくるみたいな感じですか？」
>
> 「そう！上下にスクロールしながら読めるんだ」

---

## lessとは

`less` は**ページャ**と呼ばれるツールです。

- 大きなファイルをページ単位で表示
- 上下にスクロール可能
- 検索機能あり
- ファイルを書き換えない（読み取り専用）

---

## 基本的な使い方

### ファイルを開く

```bash
less ファイル名
```

### 例

```bash
less numbers.txt
```

画面いっぱいにファイル内容が表示されます。

---

## 準備: 長いファイルを作る

```bash
cd ~/cat-practice

# 100行のファイルを作成
for i in {1..100}; do echo "Line $i: Lorem ipsum dolor sit amet"; done > long.txt

# lessで開く
less long.txt
```

---

## 基本操作

### 移動

| キー | 動作 |
|------|------|
| `j` または `↓` | 1行下に移動 |
| `k` または `↑` | 1行上に移動 |
| `Space` または `f` | 1画面下に移動 |
| `b` | 1画面上に移動 |
| `d` | 半画面下に移動 |
| `u` | 半画面上に移動 |

### 先頭・末尾

| キー | 動作 |
|------|------|
| `g` | ファイルの先頭へ |
| `G` | ファイルの末尾へ |

### 終了

| キー | 動作 |
|------|------|
| `q` | lessを終了 |

---

## 検索機能

### 前方検索

```
/検索語
```

例：`/Line 50` と入力してEnter

### 後方検索

```
?検索語
```

### 検索結果の移動

| キー | 動作 |
|------|------|
| `n` | 次の検索結果へ |
| `N` | 前の検索結果へ |

---

## 特定行へジャンプ

### 行番号を指定

```
50g
```

50行目にジャンプ。

または

```
:50
```

---

## 便利なオプション

### -N: 行番号を表示

```bash
less -N long.txt
```

### -S: 長い行を折り返さない

```bash
less -S long.txt
```

横スクロールで表示。

### -i: 検索で大文字小文字を区別しない

```bash
less -i long.txt
```

### +F: tail -f のように監視

```bash
less +F log.txt
```

`Ctrl+C` で通常モードに戻り、`F` で監視再開。

---

## lessの中での操作まとめ

```
移動:
  j/↓      1行下
  k/↑      1行上
  Space/f  1画面下
  b        1画面上
  g        先頭へ
  G        末尾へ

検索:
  /pattern  前方検索
  ?pattern  後方検索
  n         次の結果
  N         前の結果

その他:
  q         終了
  h         ヘルプ
  -N        行番号表示切り替え
```

---

## lessとcatの使い分け

| 状況 | 推奨コマンド |
|------|-------------|
| 短いファイル（数十行） | `cat` |
| 長いファイル | `less` |
| 先頭/末尾だけ見たい | `head` / `tail` |
| リアルタイム監視 | `tail -f` または `less +F` |

---

## パイプでlessを使う

### コマンド出力をlessで見る

```bash
ls -la /usr | less
```

### 長い出力を快適に閲覧

```bash
cat /etc/passwd | less
```

---

## ハンズオン

```bash
cd ~/cat-practice

# 1. lessで開く
less long.txt

# 2. 操作してみる
# - Space で1画面下へ
# - b で1画面上へ
# - g で先頭へ
# - G で末尾へ

# 3. 検索してみる
# /Line 75 と入力してEnter
# n で次の結果へ

# 4. 行番号を表示
# -N を入力（lessの中で）

# 5. 終了
# q を押す
```

---

## まとめ

| コマンド | 説明 |
|----------|------|
| `less ファイル` | ページャで開く |
| `less -N ファイル` | 行番号付きで開く |
| `less +F ファイル` | 監視モードで開く |

### less内の操作

| キー | 動作 |
|------|------|
| `Space` | 1画面下 |
| `b` | 1画面上 |
| `g` | 先頭へ |
| `G` | 末尾へ |
| `/pattern` | 検索 |
| `n` / `N` | 次/前の検索結果 |
| `q` | 終了 |

### チェックリスト

- [ ] `less` でファイルを開けた
- [ ] 上下にスクロールできた
- [ ] 検索機能を使えた
- [ ] `q` で終了できた

---

## 次のステップへ

lessはマスターできましたか？

次のセクションでは、ここまで学んだファイル表示コマンドを使った
演習に挑戦します。

実践的なログ解析に挑戦しましょう！

---

*推定読了時間: 30分*
